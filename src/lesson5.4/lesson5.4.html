<p>
The Controller should connect the Model with the View
but shouldn't know anything about the inner workings of either. Our
controller is too tightly coupled with the View and Model, so now we
factor out our controller logic to the companion to our data model: the
view-model.
<a class="docs-icon"
   href="http://mithril.js.org/getting-started.html#view-model"
   target="_blank">
</a>
</p>
<div class="dothis">
  src/components/Todo5.4.coffee
</div>
<p>
There are many definitions of the MVC paradigm. The role of the Model
might be the most controversial. One approach is to make the model
the single source
of truth for all data state and view state.</p>

Our data model has these responsibilities:
<ul>
  <li>Store data in memory</li>
  <li>Maintain the state of the data</li>
</ul>
Our view-model will have these responsibilities.
<ul>
  <li>Receive data from the UI</li>
  <li>Keep the view state in sync with the data Model</li>
</ul>

<p>
In the previous step, the controller provided the view's only access
to the data. We are going to move that responsiblity to a view-model.
Our view-model will provide an API with which the view can add todos
to the model, retrieve the list of todos and communicate to the model
that the user has marked a todo as done. Since each of these things
are reflected in the UI, the view-model is the appropriate place for them.
</p>
<p>
This lesson is primarily contained in the code comments.
The code in the Todo List component is exactly as seen on the
<a href="http://mithril.js.org/getting-started.html" target="_blank">
Mithril Getting Started</a> page. Carefully, read through the comments
in <code class="file">Todo5.4.coffee</code> and feel free to play around.
</p>
<div class="dothis">
Open the console<br>(ESC while the cursor is in the editor window)
<h5>Try the following commands:</h5>
<p>
todo.vm.description( "breathe more air" )
todo.vm.add( todo.vm.description() )
todo.vm.list.length
todo.vm.list[0].description()
</p>
<p>
Add more tasks through the user interface below.
Then try those last two commands in the console with a different index.
</p>
</div>



